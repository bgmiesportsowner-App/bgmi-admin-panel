// src/pages/RegisterUsers.jsximport { useEffect, useState } from "react";const API_BASE = "http://localhost:5000";const RegisterUsers = () => {  const [users, setUsers] = useState([]);  const [loading, setLoading] = useState(true);  const [error, setError] = useState("");  useEffect(() => {    let intervalId;    const fetchUsers = async (showLoader = false) => {      try {        if (showLoader) setLoading(true);        setError("");        const res = await fetch(`${API_BASE}/admin/users`);        const data = await res.json();        if (!res.ok || !data.ok) {          throw new Error(data.message || "Failed to fetch users");        }        // Backend se aane wale exact fields use karo        const mapped = data.users.map((u, idx) => ({          id: u.id,          index: idx + 1,          profileId: u.profile_id,          name: u.name,          email: u.email,          password: u.password_plain, // real password          registeredAt: u.created_at,        }));        setUsers(mapped);      } catch (err) {        setError(err.message || "Something went wrong while loading users");      } finally {        if (showLoader) setLoading(false);      }    };    // Page open hote hi ek baar loader ke sath    fetchUsers(true);    // Har 5 second me background refresh (loader ke bina)    intervalId = setInterval(() => {      fetchUsers(false);    }, 5000);    return () => clearInterval(intervalId);  }, []);  const handleDelete = async (id) => {    try {      const res = await fetch(`${API_BASE}/admin/users/${id}`, {        method: "DELETE",      });      const data = await res.json();      if (!res.ok || !data.ok) {        throw new Error(data.message || "Failed to delete user");      }      setUsers((prev) => prev.filter((u) => u.id !== id));    } catch (err) {      setError(err.message || "Error while deleting user");    }  };  return (    <div className="page">      <h2 className="page-title">Register Users</h2>      <p className="page-subtitle">        Add new BGMI players, view their details and manage registrations.      </p>      {error && <div className="alert alert-error">{error}</div>}      {loading && <div className="alert alert-info">Loading users...</div>}      <table className="data-table">        <thead>          <tr>            <th>#</th>            <th>Profile ID</th>            <th>Name</th>            <th>Email</th>            <th>Password</th>            <th>Register Time</th>            <th>Actions</th>          </tr>        </thead>        <tbody>          {users.map((u) => (            <tr key={u.id}>              <td>{u.index}</td>              <td>{u.profileId}</td>              <td>{u.name}</td>              <td>{u.email}</td>              <td>{u.password}</td>              <td>{new Date(u.registeredAt).toLocaleString()}</td>              <td>                <button className="btn-secondary" disabled>                  Edit                </button>                <button                  className="btn-danger"                  onClick={() => handleDelete(u.id)}                >                  Delete                </button>              </td>            </tr>          ))}          {!loading && users.length === 0 && (            <tr>              <td colSpan="7" className="empty-row">                No users yet. Ask players to register from BGMI app.              </td>            </tr>          )}        </tbody>      </table>    </div>  );};export default RegisterUsers;